.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "AMPLOT" 8 "" "" ""
.SH NAME
amplot \- visualize the behavior of AMANDA
.SH "SYNOPSIS"
.ad l
.hy 0
.HP 7
\fBamplot\fR [\-b] [\-c] [\-e] [\-g] [\-l] [\-p] [\-t\ \fIT\fR] \fIamdump_files\fR
.ad
.hy

.SH "DESCRIPTION"

.PP
\fBAmplot\fR reads an \fBamdump\fR output file that \fBAMANDA\fR generates each run (e\&.g\&. \fBamdump\&.1\fR) and translates the information into a picture format that may be used to determine how your installation is doing and if any parameters need to be changed\&. \fBAmplot\fR also prints out \fBamdump\fR lines that it either does not understand or knows to be warning or error lines and a summary of the start, end and total time for each backup image\&.

.PP
\fBAmplot\fR is a shell script that executes an \fBawk\fR program \fB\fR(\fBamplot\&.awk\fR) to scan the \fBamdump\fR output file\&. It then executes a \fBgnuplot\fR program \fB\fR(\fBamplot\&.g\fR) to generate the graph\&. The \fBawk\fR program is written in an enhanced version of awk, such as GNU awk \fB\fR(\fBgawk\fR version 2\&.15 or later) or \fBnawk\fR\&.

.PP
During execution, \fBamplot\fR generates a few temporary files that \fBgnuplot\fR uses\&. These files are deleted at the end of execution\&.

.PP
See the \fBamanda\fR(8) man page for more details about \fBAMANDA\fR\&.

.SH "OPTIONS"

.TP
\fB\-b\fR
Generate b/w postscript file (need \fB\-p\fR)\&.

.TP
\fB\-c\fR
Compress \fBamdump_files\fR after plotting\&.

.TP
\fB\-e\fR
Extend the X (time) axis if needed\&.

.TP
\fB\-g\fR
Direct \fBgnuplot\fR output directly to the X11 display (default)\&.

.TP
\fB\-p\fR
Direct postscript output to file \fB\fR\fBYYYYMMDD\fR\fB\&.ps\fR (opposite of \fB\-g\fR)\&.

.TP
\fB\-l\fR
Generate landscape oriented output (needs \fB\-p\fR)\&.

.TP
\fB\-t \fR\fBT\fR
Set the right edge of the plot to be \fBT\fR hours\&.

.PP
The \fBamdump_files\fR may be in various compressed formats \fB\fR(\fBcompress\fR, \fBgzip\fR, \fBpact\fR, \fBcompact\fR)\&.

.SH "INTERPRETATION"

.PP
The figure is divided into a number of regions\&. There are titles on the top that show important statistical information about the configuration and from this execution of \fBamdump\fR\&. In the figure, the X axis is time, with 0 being the moment \fBamdump\fR was started\&. The Y axis is divided into 5 regions:

.PP
\fBQUEUES:\fR How many backups have not been started, how many are waiting on space in the holding disk and how many have been transferred successfully to tape\&.

.PP
\fB%BANDWIDTH:\fR Percentage of allowed network bandwidth in use\&.

.PP
\fBHOLDING DISK:\fR The higher line depicts space allocated on the holding disk to backups in progress and completed backups waiting to be written to tape\&. The lower line depicts the fraction of the holding disk containing completed backups waiting to be written to tape including the file currently being written to tape\&. The scale is percentage of the holding disk\&.

.PP
\fBTAPE:\fR Tape drive usage\&.

.PP
\fB%DUMPERS:\fR Percentage of active dumpers\&.

.PP
The idle period at the left of the graph is time \fBamdump\fR is asking the machines how much data they are going to dump\&. This process can take a while if hosts are down or it takes them a long time to generate estimates\&.

.SH "AUTHOR"

.PP
Olafur Gudmundsson <ogud@tis\&.com>, Trusted Information Systems, formerly at University of Maryland, College Park: Original text

.PP
Stefan G\&. Weichinger, <sgw@amanda\&.org>, maintainer of the \fBAMANDA\fR\-documentation: XML\-conversion

.SH "BUGS"

.PP
Reports lines it does not recognize, mainly error cases but some are legitimate lines the program needs to be taught about\&.

.SH "SEE ALSO"

.PP
\fBamanda\fR(8), \fBamdump\fR(8), \fBgawk\fR(1), \fBnawk\fR(1), \fBawk\fR(1), \fBgnuplot\fR(1), \fBsh\fR(1), \fBcompress\fR(1), \fBgzip\fR(1)

